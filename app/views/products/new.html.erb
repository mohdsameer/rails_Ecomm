<div class="hero_wrapper">
  <%= render partial: 'shared/sidebar' %>

  <div class="new_product_wrap">
    <div class="product_header">
      <svg class="search_icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M14.425 13.25L17.2583 16.075C17.4161 16.2315 17.5048 16.4445 17.5048 16.6667C17.5048 16.8889 17.4161 17.1019 17.2583 17.2583C17.1019 17.4161 16.8889 17.5048 16.6667 17.5048C16.4445 17.5048 16.2315 17.4161 16.075 17.2583L13.25 14.425C12.0854 15.3392 10.6472 15.8352 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667C15.8352 10.6472 15.3392 12.0854 14.425 13.25ZM9.16667 4.16667C6.40524 4.16667 4.16667 6.40524 4.16667 9.16667C4.16667 11.9281 6.40524 14.1667 9.16667 14.1667C11.9281 14.1667 14.1667 11.9281 14.1667 9.16667C14.1667 6.40524 11.9281 4.16667 9.16667 4.16667Z" fill="#637381"/>
      </svg>

      <div class="icon_group">
        <div class="flag"><%= image_tag("GB") %></div>

        <div class="create_bell_box">
          <%= image_tag "ic_notifications", alt: 'icon', class: "create_bell_icon" %>
          <div class="create_notification">1</div>
        </div>

        <%= image_tag "ic_user_group", alt:"image", class:"user_icon" %>
        <%= image_tag "Img_Avatar", alt:"image", class: "user_icon" %>
      </div>
    </div>

    <h5 class="new_head">Create a new product</h5>

    <%= form_for @product, html: { multipart: true } do |f| %>
      <div class="group_info_section">
        <div class="image_info">
          <div class="info_content" data-controller="image-upload">
            <%= image_tag "illustration_upload", class: "info_img", id: "main-product-image", data: { 'image-upload-target': 'imageTag' } %>
            <h5 class="info_head">Main Product Image</h5>
            <%= f.file_field :image, class: "file_type", data: { 'image-upload-target': 'imageInput' } %>
            <a class="info_link" href="#">Drop files here or click <span>browse</span> thorough your machine</a>
          </div>
        </div>

        <div class="right_info_content">
          <div class="right_item">
            <%= f.label :name %>
            <%= f.text_field :name, class: "item_text" %>
          </div>

          <div class="right_item">
            <%= f.label :brand_name %>
            <%= f.text_field :brand_name, class: "item_text" %>
          </div>
        </div>
      </div>

      <div class="producers_section">
        <h5 class="producers_head">Producers</h5>
        <table class="producers_table">
          <tr>
            <th class="table_head"> Producer Company Name</th>
            <th class="table_head">Producer Location</th>
            <th class="table_head">Blank Price</th>
            <th class="table_head">Front Side Print Price</th>
            <th class="table_head">Back Side Print Price</th>
            <th class="table_head">  </th>
          </tr>

          <%= f.fields_for :product_producer_pricings do |ppp| %>
            <%= ppp.hidden_field :user_id %>
            <tr>
              <td class="table_td"><%= ppp.object&.producer&.company_name %></td>
              <td class="table_td"><%= ppp.object&.producer&.location %></td>
              <td class="table_td">
                <%= ppp.number_field :blank_price, step: 0.01 %>
                <%#= @product_producer_pricing.set_default_price %>
              </td>
              <td class="table_td">
                <%= ppp.number_field :front_side_print_price, step: 0.01 %>
                <%#= @product_producer_pricing.set_default_price %>
              </td>
              <td class="table_td">
                <%= ppp.number_field :back_side_print_price, step: 0.01 %>
                <%#= @product_producer_pricing.set_default_price %>
              </td>
            </tr>
          <% end %>
        </table>
      </div>

      <div class="variations_section">
        <h5 class="variantions_head">products</h5>

        <div class="links add_variation">
          <svg class="add_icon" xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
            <path d="M19.5 11H13.5V5C13.5 4.44772 13.0523 4 12.5 4C11.9477 4 11.5 4.44772 11.5 5V11H5.5C4.94772 11 4.5 11.4477 4.5 12C4.5 12.5523 4.94772 13 5.5 13H11.5V19C11.5 19.5523 11.9477 20 12.5 20C13.0523 20 13.5 19.5523 13.5 19V13H19.5C20.0523 13 20.5 12.5523 20.5 12C20.5 11.4477 20.0523 11 19.5 11Z" fill="white"/>
          </svg>

          <%= link_to_add_association f, :variants, class: 'add_head' do %>
            Add Variants          
          <% end %>
        </div>

        <%= f.fields_for :variants do |variation_form| %>
          <%= render 'variant_fields', f: variation_form %>
        <% end %>

        <div class="horizontal_line"></div>
      </div>

      <div class="product_print_section">
        <h5 class="print_head">Product Print Area</h5>
        <div class="print_table">
          <div class="print_content">
            <div class="content_item">Print Area Width (mm) </div>
            <div class="content_item">Print Area Width (mm) </div>
            <div class="content_item one"></div>
            <div class="content_item two border-0">Edit</div>
          </div>

          <div class="print_content">
            <div class="content_item white_bg border-0">
              <!-- <input type="text" placeholder="75" class="item_box"> -->
              <%= f.text_field :print_area_width, class: "item_text", placeholder: "75" %>
            </div>
            <div class="content_item white_bg border-0">
              <!-- <input type="text" placeholder="75" class="item_box"> -->
              <%= f.text_field :print_area_height, class: "item_text", placeholder: "75" %>
            </div>
            <div class="content_item white_bg border-0 one"></div>
            <div class="content_item white_bg border-0 two border-0"><%= image_tag "dark_edit", alt: "icon", class:"edit_icon" %></div>
          </div>
        </div>
      </div>

      <div class="product_print_section">
        <h5 class="print_head">Shipping Label Dimensions & Weight</h5>

        <div class="print_table">
          <div class="print_content">
            <div class="content_item">Item Quantity</div>
            <div class="content_item two_item">Shipping Package Dimensions</div>
            <div class="content_item">Shipping Package Weight</div>
            <div class="content_item one"></div>
            <div class="content_item two border-0">Edit</div>
          </div>

          <%= f.fields_for :shipping_labels do |shipping_label| %>
            <div class="print_content">
              <div class="content_item white_bg border-0">
                <div class="input_group_wrap">
                  <div class="input_group min_max_input">
                    <div class="group_label">Min</div>
                    <div class="input_row">
                      <%= shipping_label.number_field :item_quantity_min, step: 1, class: 'item_input', placeholder: 'xx' %>
                    </div>
                  </div>

                  <div class="input_group min_max_input">
                    <div class="group_label">Max</div>
                    <div class="input_row">
                      <%= shipping_label.number_field :item_quantity_max, step: 1, class: 'item_input', placeholder: 'xx' %>
                    </div>
                  </div>                
                </div>
              </div>

              <div class="content_item white_bg border-0 two_item">
                <div class="input_group_wrap">
                  <div class="input_group">
                    <div class="group_label">Length</div>
                    <div class="input_row">
                      <div class="row_label">in</div>
                      <%= shipping_label.number_field :length, step: 0.01, class: 'item_input', placeholder: 'xx' %>
                    </div>
                  </div>

                  <div class="input_group">
                    <div class="group_label">Height</div>
                    <div class="input_row">
                      <div class="row_label">in</div>
                      <%= shipping_label.number_field :height, step: 0.01, class: 'item_input', placeholder: 'xx' %>
                    </div>
                  </div>

                  <div class="input_group">
                    <div class="group_label">Width</div>
                    <div class="input_row">
                      <div class="row_label">in</div>
                      <%= shipping_label.number_field :width, step: 0.01, class: 'item_input', placeholder: 'xx' %>
                    </div>
                  </div>
                </div>
              </div>

              <div class="content_item white_bg border-0">
                <div class="input_group_wrap">
                  <div class="input_group">
                    <div class="group_label">Weight</div>
                    <div class="input_row">
                      <div class="row_label">lb</div>
                      <%= shipping_label.number_field :weight_lb, step: 0.01, class: 'item_input', placeholder: 'xx' %>
                    </div>
                  </div>

                  <div class="input_group">
                    <div class="group_label">Weight</div>
                    <div class="input_row">
                      <div class="row_label">oz</div>
                      <%= shipping_label.number_field :weight_oz, step: 0.01, class: 'item_input', placeholder: 'xx' %>
                    </div>
                  </div>
                </div>
              </div>

              <div class="content_item white_bg border-0 one"></div>

              <!-- <div class="content_item white_bg border-0 two border-0">
                <%#= link_to 'Confirm', 'javascript:;', class: 'confirm_btn' %>  
              </div> -->
            </div>
          <% end %>
        </div>
      </div>

      <div class="bottom_btn_group">
        <%= button_tag 'Cancel', class: "cancel_btn", type: "button", onclick: "window.location.href = '#{products_path}'" %>
        <%= f.submit 'Save', class: "save_btn" %>
      </div>
    <% end %>
  </div>
</div>
